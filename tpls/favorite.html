<ion-view view-title="" cache-view="false" class="favWrap">
    <ion-nav-bar class="innerHeader">
        <ion-nav-buttons side="center">
            <button class="button article active" ng-class="vm.collect.isArticleTab ? 'active' : ''"
                    on-tap="vm.collect.articleTab()">
                文章收藏
            </button>
            <button class="button books" ng-class="vm.collect.isBooksTab ? 'active' : ''"
                    on-tap="vm.collect.booksTab()">
                我的书架
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content ng-show="vm.collect.isArticleTab">
        <ion-list can-swipe="true">
            <ion-item collection-repeat="watch in vm.collect.watchesList">
                <div on-tap="vm.collect.openModal(watch.resourceId,watch.displayName,watch.watchId,$event)">
                    <p ng-bind-html="watch.displayName.replace('.html','')"></p>
                </div>
                <ion-option-button class="button-assertive" on-tap="vm.collect.removeFavList(watch.watchId,'article')">
                    移除收藏
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-infinite-scroll
                immediate-check="false"
                on-infinite="vm.collect.loadMoreArticles()"
                distance="1%">
        </ion-infinite-scroll>
    </ion-content>
    <ion-content ng-show="vm.collect.isBooksTab">
        <ion-list can-swipe="true">
            <ion-item collection-repeat="watch in vm.collect.booksList">
                <div on-tap="vm.collect.readBooks(watch.resourceId,watch.displayName)">
                    <p class="title" ng-bind-html="watch.displayName | displayNameFilter"></p>
                    <p class="desc" ng-bind-html="watch.desc"></p></div>
                <ion-option-button class="button-assertive" on-tap="vm.collect.removeFavList(watch.watchId,'books')">
                    移除收藏
                </ion-option-button>
            </ion-item>
        </ion-list>
        <ion-infinite-scroll
                immediate-check="false"
                on-infinite="vm.collect.loadMoreBooks()"
                distance="1%">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>

